{"name":"converter","theme":"bootsketch","pages":[{"config":[],"content":[{"name":"item_b3ca5117","type":"area","item-type":"row","content":[{"name":"item_b418a935","type":"content","item-type":"title","content":"<h1>Currency Converter</h1>","expressions":{},"actions":[]}]},{"name":"item_66dcd66a","type":"area","item-type":"scrollable","content":[{"name":"item_5b39dd50","type":"content","item-type":"title","content":"<h1>Sample Title</h1>"},{"name":"amount","type":"question","item-type":"number","label":"Amount:","required":true,"expressions":{},"actions":[],"description":"Enter amount to convert"},{"name":"from","type":"question","item-type":"select","label":"From:","required":true,"options":[{"label":"GBP","value":"GBP"},{"label":"USD","value":"USD"},{"label":"EURO","value":"EUR"}],"expressions":{},"actions":[],"description":"Choose base currency."},{"name":"to","type":"question","item-type":"select","label":"To:","required":true,"options":[{"label":"GBP","value":"GBP"},{"label":"USD","value":"USD"},{"label":"EURO","value":"EUR"}],"expressions":{},"actions":[],"description":"Choose which currency to convert to."},{"name":"item_af7b99bd","type":"control","item-type":"button","content":"<span class='icon icon-coins'></span> Convert","expressions":{},"actions":[{"event":"click","type":"set-variable","data":{"name":"loading","value":"true"}},{"event":"click","type":"call-api","data":{"method":"get","name":"jsonrates","operation":"getRates","params":{"from":"{{currency_1.from}}","to":"{{currency_1.to}}","base":"{{currency_1.from}}","symbols":"{{currency_1.to}}"}}},{"event":"click","type":"call-function","data":{"params":{},"name":"saveRate"}},{"event":"click","type":"set-variable","data":{"name":"loading","value":"false"}}]},{"name":"item_0b77f56f","type":"content","item-type":"html","content":"<h1><center>{{'currency_1.amount * data__.variables.rate' | store | number:2}} {{'currency_1.to' | store}}</center></h1>","expressions":{"show":"data__.variables.rate > 0 && data__.variables.loading != true"},"actions":[]}]}],"name":"currency_1"}],"config":[{"name":"jsonrates","type":"integration","item-type":"api","headers":{},"params":[],"operations":[{"name":"getRates","summary":"Get rates","path":"/latest","method":"JSONP","params":[{"name":"base","description":"from","type":"string","in":"query","required":true},{"name":"symbols","description":"to","type":"string","in":"query","required":true}]}],"url":"http://api.fixer.io"},{"name":"saveRate","type":"script","item-type":"function","params":[],"content":"for (rate in mdm.store.data__.api.jsonrates.getRates.rates) {\n\tmdm.store.data__.variables.rate = mdm.store.data__.api.jsonrates.getRates.rates[rate];\n}"},{"name":"loading","type":"script","item-type":"variable","variable-type":"boolean","content":"false","value":"false"}],"translation":{"default":"en_GB"},"version":"1.0","icon":"white","components":[]}